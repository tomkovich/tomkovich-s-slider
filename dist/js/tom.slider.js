"use strict";var tomSlider=function(e){var r={selector:".tom-slider",margin:"0",arrowNext:".arrowNext",arrowPrev:".arrowPrev",innerArrowNext:">",innerArrowPrev:"<",slidesShow:1,autoplay:!1,autoHeight:!1,response:{}};void 0===e&&(e=r),e={selector:e.selector||".tom-slider",margin:e.margin||"0",arrowNext:document.querySelector(e.arrowNext)||document.querySelector(".arrowNext"),arrowPrev:document.querySelector(e.arrowPrev)||document.querySelector(".arrowPrev"),innerArrowNext:e.innerArrowNext||">",innerArrowPrev:e.innerArrowPrev||"<",slidesShow:e.slidesShow||1,autoplay:e.autoplay,autoHeight:e.autoHeight,response:e.response};var t=e.arrowNext,i=e.arrowPrev,o=/[0-9]/g,s=e.margin.match(o).join("");s=2*s/10;var n=function(){t.innerHTML=e.innerArrowNext,i.innerHTML=e.innerArrowPrev;var r=document.querySelector(e.selector);if(e.response){var o=[];Object.keys(e.response).map(function(r){if(window.outerWidth<=r){o.push(r);var t=o[0];e.slidesShow=e.response[t].slidesShow}})}var n=r.firstElementChild.children.length;if(n<e.slidesShow)return console.log("There are too many slides in options");var a=100/e.slidesShow-s+"%",l=r.firstElementChild;l.classList.add("tom-slides");for(var c=l.children,d=[],v=0;v<c.length;v++)d.push(c[v]);var u=d.slice(0,e.slidesShow);u.forEach(function(r){r.classList.add("active"),r.style.margin=e.margin}),d.forEach(function(e){e.style.width=a,e.classList.add("tom-slide")});var m=e.slidesShow-1,h=function(){var t=document.querySelectorAll(".tom-slide.active"),i=[];t.forEach(function(e){i.push(e.offsetHeight)});var o=function(e,r){return e<r?1:e>r?-1:void 0};i.sort(o),console.log(e.selector),r.style.height="".concat(1.3*i[0],"px")};e.autoHeight&&h();var g=function(){var r=c[m],t=r.nextElementSibling,i=document.querySelectorAll(".tom-slide.active");if(i[0].classList.remove("active"),i[0].style.margin="0",null===t){m=e.slidesShow-1;for(var o=0;o<c.length;o++)c[o].classList.remove("active"),c[o].style.margin="0";u.forEach(function(r){r.classList.add("active"),r.style.margin=e.margin})}else t.style.margin=e.margin,t.classList.add("active"),m++},w=function(){var r=(c[m],document.querySelectorAll(".tom-slide.active")),t=r[0].previousElementSibling;if(r[r.length-1].classList.remove("active"),r[r.length-1].style.margin="0",null===t){m=d.length-1;for(var i=m;i>=0;i--)d[i].classList.remove("active"),d[i].style.margin="0";d.forEach(function(r,t){t>=d.length-e.slidesShow&&(r.classList.add("active"),r.style.margin=e.margin)})}else t.style.margin=e.margin,t.classList.add("active"),m--};e.arrowNext.addEventListener("click",g),e.arrowPrev.addEventListener("click",w),e.autoplay&&setInterval(function(){g()},2500)};return n()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvbS5zbGlkZXIuanMiXSwibmFtZXMiOlsidG9tU2xpZGVyIiwic2V0dGluZ3MiLCJkZWZhdWx0U2V0dGluZ3MiLCJzZWxlY3RvciIsIm1hcmdpbiIsImFycm93TmV4dCIsImFycm93UHJldiIsImlubmVyQXJyb3dOZXh0IiwiaW5uZXJBcnJvd1ByZXYiLCJzbGlkZXNTaG93IiwiYXV0b3BsYXkiLCJhdXRvSGVpZ2h0IiwicmVzcG9uc2UiLCJ1bmRlZmluZWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuZXh0U2xpZGVCdXR0b24iLCJwcmV2U2xpZGVCdXR0b24iLCJyZSIsIm1hcmdpbk51bWJlciIsIm1hdGNoIiwiam9pbiIsIl9jYXJvdXNlbCIsImlubmVySFRNTCIsInJlc3BvbnNlV2lkdGgiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwia2V5Iiwid2luZG93Iiwib3V0ZXJXaWR0aCIsInB1c2giLCJuZXdXaWR0aCIsInNsaWRlckxlbmd0aCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwic2xpZGVXaWR0aCIsImNhcm91c2VsV3JhcHBlciIsImNsYXNzTGlzdCIsImFkZCIsImNhcm91c2VsU2xpZGVzIiwic2xpZGVzIiwiaSIsImFjdGl2ZVNsaWRlcyIsInNsaWNlIiwiZm9yRWFjaCIsInNsaWRlIiwic3R5bGUiLCJ3aWR0aCIsImNvdW50IiwicXVlcnlTZWxlY3RvckFsbCIsImFyciIsIm9mZnNldEhlaWdodCIsIndob2lzYmlnZ2VyIiwiYSIsImIiLCJzb3J0IiwiaGVpZ2h0IiwiY29uY2F0Iiwic2xpZGVOZXh0IiwiY3VycmVudFNsaWRlIiwibmV4dFNsaWRlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiYWN0aXZlcyIsInJlbW92ZSIsInNsaWRlUHJldiIsInByZXZTbGlkZSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJpbmRleCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRJbnRl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QUFTSyxVQUFVa0UsaUJBQWlCLFFBQVNKLEdBRTFDbkUsRUFBU1MsVUFFWCtELFlBQWEsV0FDWlgsS0FDRSxNQUtMLE9BQU94QyIsImZpbGUiOiJ0b20uc2xpZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHRvbVNsaWRlciA9IGZ1bmN0aW9uKHNldHRpbmdzKSB7XHJcblx0XHJcblx0bGV0IGRlZmF1bHRTZXR0aW5ncyA9IHtcclxuXHRcdHNlbGVjdG9yOiAnLnRvbS1zbGlkZXInLFxyXG5cdFx0bWFyZ2luOiAnMCcsXHJcblx0XHRhcnJvd05leHQ6ICcuYXJyb3dOZXh0JywgXHJcblx0XHRhcnJvd1ByZXY6ICcuYXJyb3dQcmV2JyxcclxuXHRcdGlubmVyQXJyb3dOZXh0OiAnPicsXHJcblx0XHRpbm5lckFycm93UHJldjogJzwnLFxyXG5cdFx0c2xpZGVzU2hvdzogMSxcclxuXHRcdGF1dG9wbGF5OiBmYWxzZSxcclxuXHRcdGF1dG9IZWlnaHQ6IGZhbHNlLFxyXG5cdFx0cmVzcG9uc2U6IHt9XHJcblx0fVxyXG5cclxuXHRpZihzZXR0aW5ncyA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRzZXR0aW5ncyA9IGRlZmF1bHRTZXR0aW5ncztcclxuXHR9XHJcblxyXG5cdHNldHRpbmdzID0ge1xyXG5cdFx0c2VsZWN0b3I6IHNldHRpbmdzLnNlbGVjdG9yIHx8ICcudG9tLXNsaWRlcicsXHJcblx0XHRtYXJnaW46IHNldHRpbmdzLm1hcmdpbiB8fCAnMCcsXHJcblx0XHRhcnJvd05leHQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZ3MuYXJyb3dOZXh0KSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJyb3dOZXh0JyksIFxyXG5cdFx0YXJyb3dQcmV2OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNldHRpbmdzLmFycm93UHJldikgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFycm93UHJldicpLFxyXG5cdFx0aW5uZXJBcnJvd05leHQ6IHNldHRpbmdzLmlubmVyQXJyb3dOZXh0IHx8ICc+JyxcclxuXHRcdGlubmVyQXJyb3dQcmV2OiBzZXR0aW5ncy5pbm5lckFycm93UHJldiB8fCAnPCcsXHJcblx0XHRzbGlkZXNTaG93OiBzZXR0aW5ncy5zbGlkZXNTaG93IHx8IDEsXHJcblx0XHRhdXRvcGxheTogc2V0dGluZ3MuYXV0b3BsYXksXHJcblx0XHRhdXRvSGVpZ2h0OiBzZXR0aW5ncy5hdXRvSGVpZ2h0LFxyXG5cdFx0cmVzcG9uc2U6IHNldHRpbmdzLnJlc3BvbnNlXHJcblx0fVxyXG5cclxuXHRsZXQgbmV4dFNsaWRlQnV0dG9uID0gc2V0dGluZ3MuYXJyb3dOZXh0O1xyXG5cdGxldCBwcmV2U2xpZGVCdXR0b24gPSBzZXR0aW5ncy5hcnJvd1ByZXY7XHJcblxyXG5cdGxldCByZSA9IC9bMC05XS9nO1xyXG5cdGxldCBtYXJnaW5OdW1iZXIgPSBzZXR0aW5ncy5tYXJnaW4ubWF0Y2gocmUpLmpvaW4oJycpO1xyXG5cdG1hcmdpbk51bWJlciA9IG1hcmdpbk51bWJlciAqIDIgLyAxMDtcclxuXHJcblx0bGV0IF9jYXJvdXNlbCA9ICgpID0+IHtcclxuXHJcblx0XHRuZXh0U2xpZGVCdXR0b24uaW5uZXJIVE1MID0gc2V0dGluZ3MuaW5uZXJBcnJvd05leHQ7XHJcblx0XHRwcmV2U2xpZGVCdXR0b24uaW5uZXJIVE1MID0gc2V0dGluZ3MuaW5uZXJBcnJvd1ByZXY7XHJcblxyXG5cdFx0bGV0IHNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zZWxlY3Rvcik7XHJcblx0XHRcclxuXHRcdGlmKHNldHRpbmdzLnJlc3BvbnNlKSB7XHJcblx0XHRcdGxldCByZXNwb25zZVdpZHRoID0gW107XHJcblxyXG5cdFx0XHRPYmplY3Qua2V5cyhzZXR0aW5ncy5yZXNwb25zZSkubWFwKGtleSA9PiB7XHJcblx0XHRcdFx0aWYod2luZG93Lm91dGVyV2lkdGggPD0ga2V5KSB7XHJcblx0XHRcdFx0XHRyZXNwb25zZVdpZHRoLnB1c2goa2V5KVxyXG5cdFx0XHRcdFx0bGV0IG5ld1dpZHRoID0gcmVzcG9uc2VXaWR0aFswXVxyXG5cdFx0XHRcdFx0c2V0dGluZ3Muc2xpZGVzU2hvdyA9IHNldHRpbmdzLnJlc3BvbnNlW25ld1dpZHRoXS5zbGlkZXNTaG93XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHNsaWRlckxlbmd0aCA9IHNlbGVjdG9yLmZpcnN0RWxlbWVudENoaWxkLmNoaWxkcmVuLmxlbmd0aDtcclxuXHJcblx0XHRpZihzbGlkZXJMZW5ndGggPCBzZXR0aW5ncy5zbGlkZXNTaG93KSB7XHJcblx0XHRcdHJldHVybiBjb25zb2xlLmxvZygnVGhlcmUgYXJlIHRvbyBtYW55IHNsaWRlcyBpbiBvcHRpb25zJyk7XHJcblx0XHR9IFxyXG5cclxuXHRcdGxldCBzbGlkZVdpZHRoID0gKDEwMCAvIHNldHRpbmdzLnNsaWRlc1Nob3cpIC0gbWFyZ2luTnVtYmVyICsgJyUnO1xyXG5cclxuXHRcdGxldCBjYXJvdXNlbFdyYXBwZXIgPSBzZWxlY3Rvci5maXJzdEVsZW1lbnRDaGlsZDtcclxuXHRcdGNhcm91c2VsV3JhcHBlci5jbGFzc0xpc3QuYWRkKCd0b20tc2xpZGVzJyk7XHJcblxyXG5cdFx0bGV0IGNhcm91c2VsU2xpZGVzID0gY2Fyb3VzZWxXcmFwcGVyLmNoaWxkcmVuO1xyXG5cdFx0bGV0IHNsaWRlcyA9IFtdO1xyXG5cclxuXHRcdGZvciggbGV0IGkgPSAwOyBpIDwgY2Fyb3VzZWxTbGlkZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0c2xpZGVzLnB1c2goY2Fyb3VzZWxTbGlkZXNbaV0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBhY3RpdmVTbGlkZXMgPSBzbGlkZXMuc2xpY2UoMCwgc2V0dGluZ3Muc2xpZGVzU2hvdyk7XHJcblxyXG5cdFx0YWN0aXZlU2xpZGVzLmZvckVhY2goIHNsaWRlID0+IHtcclxuXHRcdFx0c2xpZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdHNsaWRlLnN0eWxlLm1hcmdpbiA9IHNldHRpbmdzLm1hcmdpbjtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHNsaWRlcy5mb3JFYWNoKCBzbGlkZSA9PiB7XHJcblx0XHRcdHNsaWRlLnN0eWxlLndpZHRoID0gc2xpZGVXaWR0aDtcclxuXHRcdFx0c2xpZGUuY2xhc3NMaXN0LmFkZCgndG9tLXNsaWRlJyk7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0bGV0IGNvdW50ID0gc2V0dGluZ3Muc2xpZGVzU2hvdyAtIDE7XHJcblxyXG5cdFx0bGV0IGF1dG9IZWlnaHQgPSAoKSA9PiB7XHJcblx0XHRcdGxldCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9tLXNsaWRlLmFjdGl2ZScpO1xyXG5cclxuXHRcdFx0bGV0IGFyciA9IFtdO1xyXG5cclxuXHRcdFx0c2xpZGVzLmZvckVhY2goKHNsaWRlKSA9PiB7XHJcblx0XHRcdFx0YXJyLnB1c2goc2xpZGUub2Zmc2V0SGVpZ2h0KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRsZXQgd2hvaXNiaWdnZXIgPSAoYSwgYikgPT4ge1xyXG5cdFx0XHRcdGlmKCBhIDwgYikgcmV0dXJuIDE7XHJcblx0XHRcdFx0aWYoIGEgPiBiICkgcmV0dXJuIC0xO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhcnIuc29ydCh3aG9pc2JpZ2dlcilcclxuXHRcdFx0Y29uc29sZS5sb2coc2V0dGluZ3Muc2VsZWN0b3IpXHJcblx0XHRcdHNlbGVjdG9yLnN0eWxlLmhlaWdodCA9IGAke2FyclswXSAqIDEuM31weGBcclxuXHRcdH1cclxuXHJcblx0XHRpZihzZXR0aW5ncy5hdXRvSGVpZ2h0KSB7XHJcblx0XHRcdGF1dG9IZWlnaHQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgc2xpZGVOZXh0ID0gKCkgPT4ge1xyXG5cclxuXHRcdFx0bGV0IGN1cnJlbnRTbGlkZSA9IGNhcm91c2VsU2xpZGVzW2NvdW50XTtcclxuXHRcdFx0bGV0IG5leHRTbGlkZSA9IGN1cnJlbnRTbGlkZS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcblx0XHRcdGxldCBhY3RpdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvbS1zbGlkZS5hY3RpdmUnKTtcclxuXHJcblx0XHRcdGFjdGl2ZXNbMF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdGFjdGl2ZXNbMF0uc3R5bGUubWFyZ2luICA9ICcwJztcclxuXHJcblx0XHRcdGlmKG5leHRTbGlkZSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdGNvdW50ID0gc2V0dGluZ3Muc2xpZGVzU2hvdyAtIDE7XHJcblxyXG5cdFx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBjYXJvdXNlbFNsaWRlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0Y2Fyb3VzZWxTbGlkZXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRjYXJvdXNlbFNsaWRlc1tpXS5zdHlsZS5tYXJnaW4gID0gJzAnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRhY3RpdmVTbGlkZXMuZm9yRWFjaCggc2xpZGUgPT4ge1xyXG5cdFx0XHRcdFx0c2xpZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdFx0XHRcdHNsaWRlLnN0eWxlLm1hcmdpbiAgPSBzZXR0aW5ncy5tYXJnaW47XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bmV4dFNsaWRlLnN0eWxlLm1hcmdpbiAgPSBzZXR0aW5ncy5tYXJnaW47XHJcblx0XHRcdFx0bmV4dFNsaWRlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdGNvdW50Kys7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHNsaWRlUHJldiA9ICgpID0+IHtcclxuXHJcblx0XHRcdGxldCBjdXJyZW50U2xpZGUgPSBjYXJvdXNlbFNsaWRlc1tjb3VudF07XHJcblx0XHRcdGxldCBhY3RpdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvbS1zbGlkZS5hY3RpdmUnKTtcclxuXHRcdFx0bGV0IHByZXZTbGlkZSA9IGFjdGl2ZXNbMF0ucHJldmlvdXNFbGVtZW50U2libGluZztcclxuXHJcblx0XHRcdGFjdGl2ZXNbYWN0aXZlcy5sZW5ndGggLSAxXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdFx0YWN0aXZlc1thY3RpdmVzLmxlbmd0aCAtIDFdLnN0eWxlLm1hcmdpbiAgPSAnMCc7XHJcblxyXG5cdFx0XHRpZihwcmV2U2xpZGUgPT09IG51bGwpIHtcclxuXHJcblx0XHRcdFx0Y291bnQgPSBzbGlkZXMubGVuZ3RoIC0gMTtcclxuXHJcblx0XHRcdFx0Zm9yKGxldCBpID0gY291bnQ7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0XHRzbGlkZXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRzbGlkZXNbaV0uc3R5bGUubWFyZ2luID0gJzAnO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0c2xpZGVzLmZvckVhY2goIChzbGlkZSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdGlmKGluZGV4ID49IHNsaWRlcy5sZW5ndGggLSBzZXR0aW5ncy5zbGlkZXNTaG93KSB7XHJcblx0XHRcdFx0XHRcdHNsaWRlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdFx0XHRzbGlkZS5zdHlsZS5tYXJnaW4gID0gc2V0dGluZ3MubWFyZ2luO1xyXG5cdFx0XHRcdFx0fSBcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwcmV2U2xpZGUuc3R5bGUubWFyZ2luICA9IHNldHRpbmdzLm1hcmdpbjtcclxuXHRcdFx0XHRwcmV2U2xpZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdFx0Y291bnQtLTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRzZXR0aW5ncy5hcnJvd05leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzbGlkZU5leHQpO1xyXG5cdFx0c2V0dGluZ3MuYXJyb3dQcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2xpZGVQcmV2KTtcclxuXHJcblx0XHRpZihzZXR0aW5ncy5hdXRvcGxheSkge1xyXG5cclxuXHRcdFx0c2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNsaWRlTmV4dCgpO1xyXG5cdFx0XHR9LCAyNTAwKTtcclxuXHRcdH1cclxuXHJcblx0fSBcclxuXHJcblx0cmV0dXJuIF9jYXJvdXNlbCgpO1xyXG59Il19
